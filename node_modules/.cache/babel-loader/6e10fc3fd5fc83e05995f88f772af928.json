{"ast":null,"code":"import _defineProperty from \"/home/karol/Desktop/Projekt/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/karol/Desktop/Projekt/app/src/menu/games/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Card, Dimmer, Loader, Segment, Container } from 'semantic-ui-react';\nimport GameCard from \"./game-card/GameCard.js\";\nimport GameFilter from \"./game-filter/GameFilter.js\";\nimport \"react-semantic-ui-datepickers/dist/react-semantic-ui-datepickers.css\";\nexport class GameCardColection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSortByName = event => {\n      this.setState({\n        sortByName: event.target.value\n      });\n    };\n\n    this.handleSortByCity = event => {\n      this.setState({\n        sortByCity: event.target.value\n      });\n    };\n\n    this.handleDateChange = (event, date) => {\n      this.setState({\n        date: date.value\n      });\n    };\n\n    this.handleHideFullGames = () => {\n      this.setState(prevState => ({\n        hideFullGames: !prevState.hideFullGames\n      }));\n    };\n\n    this.handleOnAdd = () => {\n      this.fetchPlaysData();\n    };\n\n    this.filteredGames = () => {\n      return this.state.games.filter(game => game.title.toLowerCase().includes(this.state.sortByName.toLowerCase())).filter(game => game.localization.city.toLowerCase().includes(this.state.sortByCity.toLowerCase())).filter(game => {\n        const pickedDate = new Date(this.state.date).getTime();\n        const pickedGameTostring = pickedDate.toString().substring(0, 6);\n        const pickedGameBacktoNumber = parseInt(pickedGameTostring);\n        const gameDate = new Date(game.date).getTime();\n        const gameDateToString = gameDate.toString().substring(0, 6);\n        const gameDateBackToNumber = parseInt(gameDateToString);\n\n        if (!pickedDate) {\n          return this.state.games;\n        } else if (gameDateBackToNumber === pickedGameBacktoNumber) return game;\n      }).filter(game => {\n        if (this.state.hideFullGames) {\n          return this.state.games;\n        } else if (game.palyer.max !== game.palyer.current) {\n          return game;\n        }\n      });\n    };\n\n    this.state = {\n      games: [],\n      loading: true,\n      error: null,\n      sortByName: \"\",\n      sortByCity: \"\",\n      sortByPlayerCount: \"\",\n      date: 0,\n      hideFullGames: true\n    };\n  }\n\n  componentDidMount() {\n    this.fetchPlaysData();\n  }\n\n  fetchPlaysData() {\n    fetch(\"https://fantasyapp-9473b.firebaseio.com/plays.json\").then(resp => resp.json()).then(resp => {\n      this.setState({\n        games: Object.keys(resp).map(function (key) {\n          return _objectSpread({\n            id: key\n          }, resp[key]);\n        }),\n        loading: false\n      });\n    }).catch(error => this.setState({\n      error: \"err occ\"\n    }));\n  }\n\n  render() {\n    if (this.state.loading) {\n      return React.createElement(Segment, {\n        style: {\n          height: \"500px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        active: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Loading\")));\n    } else return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(GameFilter, {\n      onAdd: this.handleOnAdd,\n      sortByName: this.handleSortByName,\n      sortByCity: this.handleSortByCity,\n      onChange: this.handleDateChange,\n      onSlide: this.handleHideFullGames,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Segment, {\n      center: true,\n      inverted: true,\n      color: \"blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Card.Group, {\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.filteredGames().length > 0 ? this.filteredGames().map(game => React.createElement(GameCard, {\n      key: game.id,\n      title: game.title,\n      localizationCity: game.localization.city,\n      localizationPlace: game.localization.place,\n      date: game.date,\n      playerMax: game.palyer.max,\n      playerCur: game.palyer.current,\n      reqLvl: game.ReqLevelID,\n      descript: game.Description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"WE CANNOT FIND WHAT YOU ARE LOOKING FOR\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/karol/Desktop/Projekt/app/src/menu/games/index.js"],"names":["React","Card","Dimmer","Loader","Segment","Container","GameCard","GameFilter","GameCardColection","Component","constructor","props","handleSortByName","event","setState","sortByName","target","value","handleSortByCity","sortByCity","handleDateChange","date","handleHideFullGames","prevState","hideFullGames","handleOnAdd","fetchPlaysData","filteredGames","state","games","filter","game","title","toLowerCase","includes","localization","city","pickedDate","Date","getTime","pickedGameTostring","toString","substring","pickedGameBacktoNumber","parseInt","gameDate","gameDateToString","gameDateBackToNumber","palyer","max","current","loading","error","sortByPlayerCount","componentDidMount","fetch","then","resp","json","Object","keys","map","key","id","catch","render","height","length","place","ReqLevelID","Description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {  Card, Dimmer, Loader, Segment, Container} from 'semantic-ui-react'\nimport GameCard from \"./game-card/GameCard.js\";\nimport GameFilter from \"./game-filter/GameFilter.js\";\nimport \"react-semantic-ui-datepickers/dist/react-semantic-ui-datepickers.css\";\n\n\nexport class GameCardColection extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            games:[],\n            loading: true,\n            error: null,\n            sortByName:\"\",\n            sortByCity:\"\",\n            sortByPlayerCount:\"\",\n            date:0,\n            hideFullGames: true\n        }\n    }\n    handleSortByName=(event)=>{\n      this.setState({\n        sortByName: event.target.value\n      })\n    }\n    handleSortByCity=(event)=>{\n      this.setState({\n        sortByCity: event.target.value\n      })\n    }\n    handleDateChange =(event, date)=> {\n      this.setState({date: date.value});\n    };\n    handleHideFullGames=()=>{\n      this.setState(prevState=>({\n        hideFullGames: !prevState.hideFullGames\n      }))\n    }\n    componentDidMount(){\n        this.fetchPlaysData()\n    }\n    handleOnAdd = () => {\n      this.fetchPlaysData()\n    }\n    fetchPlaysData(){\n        fetch(\"https://fantasyapp-9473b.firebaseio.com/plays.json\")\n            .then(resp=>resp.json())\n            .then(resp=> {\n               this.setState({\n                    games:  Object.keys(resp)\n                    .map(function(key) {\n                        return {\n                            id: key,\n                            ...resp[key]\n                        }\n                    }),\n                    loading:false\n               })}) \n            .catch(error=>this.setState({\n                error:\"err occ\"\n            }))  \n    }\n  \n              \n  filteredGames = () => {\n    return this.state.games\n    .filter(\n      game=>game.title.toLowerCase().includes(this.state.sortByName.toLowerCase()))\n    .filter(game=>game.localization.city.toLowerCase().includes(this.state.sortByCity.toLowerCase()))\n    .filter(game=>{\n      const pickedDate = new Date(this.state.date).getTime();\n      const pickedGameTostring = pickedDate.toString().substring(0,6)\n      const pickedGameBacktoNumber = parseInt(pickedGameTostring);\n      const gameDate= new Date(game.date).getTime();\n      const gameDateToString = gameDate.toString().substring(0,6);\n      const gameDateBackToNumber = parseInt(gameDateToString);\n      if(!pickedDate){\n        return this.state.games\n      }else if(gameDateBackToNumber === pickedGameBacktoNumber)\n        return game\n    })\n    .filter(game=>{\n      if(this.state.hideFullGames){\n        return this.state.games\n        }else if(game.palyer.max !== game.palyer.current){\n      return game}\n    })\n  } \n         \n    render(){\n          \n\n      if(this.state.loading){\n        return(\n          <Segment style={{height:\"500px\"}}>\n          <Dimmer active>\n            <Loader size='large'>Loading</Loader>\n          </Dimmer>\n        </Segment>\n        )\n      }else return(\n            <div>\n                <GameFilter \n                onAdd={this.handleOnAdd}\n                sortByName={this.handleSortByName}\n                sortByCity={this.handleSortByCity}\n                onChange={this.handleDateChange}\n                onSlide={this.handleHideFullGames}\n                />\n                <Segment center inverted color=\"blue\">\n                  <Container >\n                  <Card.Group centered>\n                    {this.filteredGames().length > 0 ? this.filteredGames().map(game=>\n                                                              <GameCard\n                                                                key={game.id}\n                                                                title={game.title}\n                                                                localizationCity={game.localization.city}\n                                                                localizationPlace={game.localization.place}\n                                                                date={game.date}\n                                                                playerMax={game.palyer.max}  \n                                                                playerCur={game.palyer.current}  \n                                                                reqLvl={game.ReqLevelID}\n                                                                descript={game.Description}\n                                                              />)\n                                                              :\n                                                              <div>WE CANNOT FIND WHAT YOU ARE LOOKING FOR</div>}\n                  </Card.Group>\n                  </Container>\n                </Segment>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}