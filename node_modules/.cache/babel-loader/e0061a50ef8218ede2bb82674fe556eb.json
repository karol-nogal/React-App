{"ast":null,"code":"var _jsxFileName = \"/home/karol/Desktop/Zajecia Frontend/styczen-12/jfdz12-materialy-rest/rest-app/src/components/Auth.js\";\nimport React from \"react\";\nimport firebase from \"firebase\";\nimport { Link } from \"react-router-dom\";\n\nclass Auth extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null,\n      ref: null\n    };\n  }\n\n  componentDidMount() {\n    const authRef = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        user\n      });\n    });\n    this.setState({\n      ref: authRef\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.state.ref) {\n      this.state.ref();\n    }\n  }\n\n  render() {\n    return this.state.user ? this.props.children : React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Pleas sign in first!\"), React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Sign in\"));\n  }\n\n}\n\nexport default Auth;","map":{"version":3,"sources":["/home/karol/Desktop/Zajecia Frontend/styczen-12/jfdz12-materialy-rest/rest-app/src/components/Auth.js"],"names":["React","firebase","Link","Auth","Component","state","user","ref","componentDidMount","authRef","auth","onAuthStateChanged","setState","componentWillUnmount","render","props","children"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;;AAEA,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAC/BC,KAD+B,GACvB;AACJC,MAAAA,IAAI,EAAE,IADF;AAEJC,MAAAA,GAAG,EAAE;AAFD,KADuB;AAAA;;AAM/BC,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,OAAO,GAAGR,QAAQ,CAACS,IAAT,GAAgBC,kBAAhB,CAAmCL,IAAI,IAAI;AACvD,WAAKM,QAAL,CAAc;AACVN,QAAAA;AADU,OAAd;AAGH,KAJe,CAAhB;AAMA,SAAKM,QAAL,CAAc;AACVL,MAAAA,GAAG,EAAEE;AADK,KAAd;AAGH;;AAEDI,EAAAA,oBAAoB,GAAG;AACnB,QAAG,KAAKR,KAAL,CAAWE,GAAd,EAAmB;AACf,WAAKF,KAAL,CAAWE,GAAX;AACH;AACJ;;AAEDO,EAAAA,MAAM,GAAG;AACL,WAAO,KAAKT,KAAL,CAAWC,IAAX,GACD,KAAKS,KAAL,CAAWC,QADV,GAED,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CAFN;AAMH;;AA/B8B;;AAkCnC,eAAeb,IAAf","sourcesContent":["import React from \"react\";\nimport firebase from \"firebase\";\nimport {Link} from \"react-router-dom\";\n\nclass Auth extends React.Component {\n    state = {\n        user: null,\n        ref: null\n    };\n\n    componentDidMount() {\n        const authRef = firebase.auth().onAuthStateChanged(user => {\n            this.setState({\n                user\n            })\n        })\n\n        this.setState({\n            ref: authRef\n        })\n    }\n\n    componentWillUnmount() {\n        if(this.state.ref) {\n            this.state.ref();\n        }\n    }\n\n    render() {\n        return this.state.user\n            ? this.props.children\n            : <>\n                <h1>Pleas sign in first!</h1>\n                <Link to='/register'>Sign in</Link>\n            </>\n    }\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}